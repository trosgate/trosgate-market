Using HTMX and Stripe as example

<script>
  function showValidationErrors(xhr, target) {
    var errors = JSON.parse(xhr.responseText);
    for (var field in errors) {
      var errorElement = target.querySelector('#' + field + '-error');
      if (errorElement) {
        errorElement.innerText = errors[field];
      }
    }
  }
  
  var paymentForm = document.querySelector('#payment-form');
  paymentForm.addEventListener('htmx:validation:failed', function(event) {
    showValidationErrors(event.detail.xhr, event.target);
  });
</script>
