{% extends "dashboard/main_base.html" %}
{% load static %}
{% block content%}
{% include 'dashboard/main_sidebar.html' %}


			<!--Main Start-->
		<main id="wt-main" class="wt-main wt-haslayout">
               
            <!--Inner Home Banner Start-->
            <div class="wt-haslayout wt-innerbannerholder">
                <div class="container">
                    <div class="row justify-content-md-center">
                        <div class="col-xs-12 col-sm-12 col-md-8 push-md-2 col-lg-6 push-lg-3">
                            <div class="wt-innerbannercontent">
                            <div class="wt-title"><h2>External Contract</h2></div>
                                <ol class="wt-breadcrumb">
                                    <li><a href="{% url 'account:dashboard' %}">Dashboard</a></li>
                                    <li class="wt-active">Add Offer Contract</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--Inner Home End-->

			<div class="wt-haslayout wt-main-section">
			<div class="container">
				<div class="row justify-content-md-center">
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-8 push-lg-2 float-center">
                        <div class="wt-dashboardbox">
                            <div class="wt-dashboardboxtitle">
                                <h2>Create a Contract</h2>
                            </div>
                            <div class="wt-dashboardboxcontent">
                                                                                            
                            <form method='POST' action=''>{% csrf_token %}
                                {% if contractform.errors %}
                                <div class="alert alert-danger text-center" role="alert">
                                    Ooop! form error occured. Please check below and correct
                                </div>
                                {% endif %}  
                                    <div class="wt-jobdescription wt-tabsinfo">
                                        <div class="wt-tabscontenttitle">
                                            <h2>Contract Details</h2>
                                        </div>	
                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                {{contractform.client.label}}
                                                {{contractform.client}}
                                                
                                                <a href="javascript:void(0);" class="text-success" data-toggle="modal" data-target="#invoiceclientmodal">Add different Contractor</a>								
                                                <span style="color:red;" role="alert">{{ contractform.client.errors}}</span>
                                            </div>
                                            
                                            <div class="form-group col-md-12">
                                                {{contractform.contract_duration.label}}
                                                {{contractform.contract_duration}}
                                                <span style="color:red;" role="alert">{{ contractform.contract_duration.errors}}</span>
                                            </div>
                                           
                                        </div>  
                                    <div class="wt-jobdetails wt-tabsinfo">
										<div class="wt-tabscontenttitle">
											<h2>Product and Services</h2>
										</div>                                          
                                        <div class="form-row" id="line_one">
                                            <div class="form-group col-md-6">
                                                {{ contractform.line_one.label}}
                                                {{ contractform.line_one}}
                                                <span style="color:red;" role="alert">{{ contractform.line_one.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_one_quantity.label}}
                                                {{ contractform.line_one_quantity}}
                                                <span style="color:red;" role="alert">{{ contractform.line_one_quantity.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_one_unit_price.label}}
                                                {{ contractform.line_one_unit_price}}
                                                <span style="color:red;" role="alert">{{ contractform.line_one_unit_price.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_one_total_price.label }}
                                                {{ contractform.line_one_total_price }}
                                                <span style="color:red;" role="alert">{{ contractform.line_one_total_price.errors}}</span>
                                            </div>
                                        </div>

                                        <div class="form-row" id="line_two">
                                            <div class="form-group col-md-6">
                                                {{ contractform.line_two.label}}
                                                {{ contractform.line_two}}
                                                <span style="color:red;" role="alert">{{ contractform.line_two.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_two_quantity.label}}
                                                {{ contractform.line_two_quantity}}
                                                <span style="color:red;" role="alert">{{ contractform.line_two_quantity.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_two_unit_price.label}}
                                                {{ contractform.line_two_unit_price}}
                                                <span style="color:red;" role="alert">{{ contractform.line_two_unit_price.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_two_total_price.label }}
                                                {{ contractform.line_two_total_price }}
                                                <span style="color:red;" role="alert">{{ contractform.line_two_total_price.errors}}</span>
                                            </div>
                                        </div>

                                        <div class="form-row" id="line_three">
                                            <div class="form-group col-md-6">
                                                {{ contractform.line_three.label}}
                                                {{ contractform.line_three}}
                                                <span style="color:red;" role="alert">{{ contractform.line_three.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_three_quantity.label}}
                                                {{ contractform.line_three_quantity}}
                                                <span style="color:red;" role="alert">{{ contractform.line_three_quantity.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_three_unit_price.label}}
                                                {{ contractform.line_three_unit_price}}
                                                <span style="color:red;" role="alert">{{ contractform.line_three_unit_price.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_three_total_price.label }}
                                                {{ contractform.line_three_total_price }}
                                                <span style="color:red;" role="alert">{{ contractform.line_three_total_price.errors}}</span>
                                            </div>
                                        </div>

                                        <div class="form-row" id="line_four">
                                            <div class="form-group col-md-6">
                                                {{ contractform.line_four.label}}
                                                {{ contractform.line_four}}
                                                <span style="color:red;" role="alert">{{ contractform.line_four.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_four_quantity.label}}
                                                {{ contractform.line_four_quantity}}
                                                <span style="color:red;" role="alert">{{ contractform.line_four_quantity.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_four_unit_price.label}}
                                                {{ contractform.line_four_unit_price}}
                                                <span style="color:red;" role="alert">{{ contractform.line_four_unit_price.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_four_total_price.label }}
                                                {{ contractform.line_four_total_price }}
                                                <span style="color:red;" role="alert">{{ contractform.line_four_total_price.errors}}</span>
                                            </div>
                                        </div>

                                        <div class="form-row" id="line_five">
                                            <div class="form-group col-md-6">
                                                {{ contractform.line_five.label}}
                                                {{ contractform.line_five}}
                                                <span style="color:red;" role="alert">{{ contractform.line_five.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_five_quantity.label}}
                                                {{ contractform.line_five_quantity}}
                                                <span style="color:red;" role="alert">{{ contractform.line_five_quantity.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_five_unit_price.label}}
                                                {{ contractform.line_five_unit_price}}
                                                <span style="color:red;" role="alert">{{ contractform.line_five_unit_price.errors}}</span>
                                            </div>
                                            <div class="form-group col-md-2">
                                                {{ contractform.line_five_total_price.label }}
                                                {{ contractform.line_five_total_price }}
                                                <span style="color:red;" role="alert">{{ contractform.line_five_total_price.errors}}</span>
                                            </div>
                                        </div>                                        
                                            <button type="button" id="proposal-extras" class="btn btn-success"> add/hide More Service </button>                               
                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                {{ contractform.grand_total.label }}
                                                {{ contractform.grand_total }}
                                                <span style="color:red;" role="alert">{{ contractform.grand_total.errors}}</span>
                                            </div>
                                        </div>      
                                        <div class="wt-jobdetails wt-tabsinfo">
										<div class="wt-tabscontenttitle">
											<h2>Description(Optional)</h2>
										</div>     
                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                {{ contractform.notes.label }}
                                                {{ contractform.notes }}
                                                <span style="color:red;" role="alert">{{ contractform.notes.errors}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                </div>
                                    </div>
                                        </div>
                                            <div class="wt-updatall">
                                                <i class="ti-announcement"></i>
                                                <span>Create with “Create Contract button.</span>
                                                <button type="submit" class="wt-btn"> Create Contract </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>  
                            </form>
						</div>
					</div>
				</div>
			</div>
					

			</main>

			<!-- Add Invoice Client Popup Start-->
			<!-- Popup Start-->
			<div class="modal fade wt-offerpopup" tabindex="-1" role="dialog" id="invoiceclientmodal">
				<div class="modal-dialog" role="document">
					<div class="wt-modalcontent modal-content">
						<div class="wt-popuptitle">
							<h2>Add A Contractor</h2>
							<a href="javascript%3bvoid(0)%3b.html" class="wt-closebtn close"><i class="fa fa-close" data-dismiss="modal" aria-label="Close"></i></a>
						</div>
						<div class="modal-body">
							<div class="wt-projectdropdown-hold">
								<div class="wt-projectdropdown-option">
									<div class="wt-projectselect">
										<figure><img src="{% static 'images/thumbnail/img-07.jpg' %}" alt="img description"></figure>
										<div class="wt-projectselect-content">
											<h3>Project Title Here</h3>
											<span><i class="lnr lnr-calendar-full"></i> Project Deadline: May 27, 2019</span>
										</div>
									</div>
								</div>
							</div>
							<form method="POST", action='.', class="wt-formtheme wt-formpopup"> {% csrf_token %}                             
                            {% if contractorform.errors %}
                            <p>{{ contractorform.non_field_errors }}</p>
                            {% for field in contractorform %}
                            {% if field.errors %}
                            <div class="alert alert-danger" role="alert">
                                {{ field.errors|striptags }}
                            </div>
                            {% endif %}
                            {% endfor %}
                            {% endif %}

								<div class="form-group">
									{{contractorform.name.label}}
									{{contractorform.name}}
								</div>
								<div class="form-group">
									{{contractorform.email.label}}
									{{contractorform.email}}
								</div>
								<div class="form-group">
									{{contractorform.address.label}}
									{{contractorform.address}}
								</div>
								<div class="form-group">
									{{contractorform.postal_code.label}}
									{{contractorform.postal_code}}
								</div>  
								<div class="form-group">
									{{contractorform.phone_Number.label}}
									{{contractorform.phone_Number}}
								</div>
								<div class="form-group">
									{{contractorform.tax_Number.label}}
									{{contractorform.tax_Number}}
								</div>                                                                
								<div class="form-group wt-btnarea">
									<button type="submit" class="wt-btn"> Add Contractor </button>
								</div>											
							</form>
						</div>
					</div>
				</div>
			</div>
			<!-- Popup End-->


{% endblock %}


                            {% comment %} <div class="form-group">
                                <input id="id_name" type="text" name="name" class="form-control" placeholder="name">
                            </div>
                            <div class="form-group">
                                <input id="id_email" type="email" name="email" class="form-control" placeholder="email">
                            </div>                                
                            <div class="form-group">
                                <input id="id_address" type="text" name="address" class="form-control" placeholder="address">
                            </div>
                            <div class="form-group">
                                <input id="id_postal_code" type="text" name="postal_code" class="form-control" placeholder="postal_code">
                            </div>
                            <div class="form-group">
                                <input id="id_phone_Number" type="text" name="phone_Number" class="form-control" placeholder="phone_Number">
                            </div>
                            <div class="form-group">
                                <input id="id_tax_Number" type="text" name="tax_Number" class="form-control" placeholder="tax_Number">
                            </div>

                            <div class="form-group wt-btnarea">
                                <button type="submit" class="wt-btn"> Add Contractor </button>
                            </div> {% endcomment %}

